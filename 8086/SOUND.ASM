.MODEL SMALL
.STACK 64
.DATA

DURATION DW 10000
TONE DW 512H

.CODE

MAIN PROC FAR
MOV AX,@DATA
MOV DS,AX
IN AL,61H
PUSH AX
A20:
MOV DX,DURATION
A30:
OR AL,00000011B
OUT 61H,AL
MOV CX,TONE
A50:
LOOP A50
DEC DX
JNZ A30
SHL DURATION,1
SHR TONE,1
JNZ A20
POP AX
AND AL,11111100B
OUT 61H,AL
MOV AH,4CH
INT 21H
MAIN ENDP
END MAIN